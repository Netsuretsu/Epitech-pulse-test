{"remainingRequest":"/home/netsuretsu/Rendu/Epitech-pulse-test/Part five/front-reservation-parking/node_modules/babel-loader/lib/index.js!/home/netsuretsu/Rendu/Epitech-pulse-test/Part five/front-reservation-parking/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js!/home/netsuretsu/Rendu/Epitech-pulse-test/Part five/front-reservation-parking/node_modules/quasar/src/plugins/Meta.js","dependencies":[{"path":"/home/netsuretsu/Rendu/Epitech-pulse-test/Part five/front-reservation-parking/node_modules/quasar/src/plugins/Meta.js","mtime":1645750057943},{"path":"/home/netsuretsu/Rendu/Epitech-pulse-test/Part five/front-reservation-parking/babel.config.js","mtime":1646391901612},{"path":"/home/netsuretsu/Rendu/Epitech-pulse-test/Part five/front-reservation-parking/node_modules/cache-loader/dist/cjs.js","mtime":1645750062537},{"path":"/home/netsuretsu/Rendu/Epitech-pulse-test/Part five/front-reservation-parking/node_modules/babel-loader/lib/index.js","mtime":1645750062530},{"path":"/home/netsuretsu/Rendu/Epitech-pulse-test/Part five/front-reservation-parking/node_modules/vue-cli-plugin-quasar/lib/loader.js.transform-quasar-imports.js","mtime":1645750100417}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudGltZXJzLmpzIjsKaW1wb3J0IHsgaXNSdW50aW1lU3NyUHJlSHlkcmF0aW9uIH0gZnJvbSAnLi9QbGF0Zm9ybS5qcyc7CmltcG9ydCBleHRlbmQgZnJvbSAnLi4vdXRpbHMvZXh0ZW5kLmpzJzsKdmFyIHVwZGF0ZUlkLCBjdXJyZW50Q2xpZW50TWV0YTsKZXhwb3J0IHZhciBjbGllbnRMaXN0ID0gW107CgpmdW5jdGlvbiBub3JtYWxpemUobWV0YSkgewogIGlmIChtZXRhLnRpdGxlKSB7CiAgICBtZXRhLnRpdGxlID0gbWV0YS50aXRsZVRlbXBsYXRlID8gbWV0YS50aXRsZVRlbXBsYXRlKG1ldGEudGl0bGUpIDogbWV0YS50aXRsZTsKICAgIGRlbGV0ZSBtZXRhLnRpdGxlVGVtcGxhdGU7CiAgfQoKICA7CiAgW1snbWV0YScsICdjb250ZW50J10sIFsnbGluaycsICdocmVmJ11dLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHsKICAgIHZhciBtZXRhVHlwZSA9IG1ldGFbdHlwZVswXV0sCiAgICAgICAgbWV0YVByb3AgPSB0eXBlWzFdOwoKICAgIGZvciAodmFyIG5hbWUgaW4gbWV0YVR5cGUpIHsKICAgICAgdmFyIG1ldGFMaW5rID0gbWV0YVR5cGVbbmFtZV07CgogICAgICBpZiAobWV0YUxpbmsudGVtcGxhdGUpIHsKICAgICAgICBpZiAoT2JqZWN0LmtleXMobWV0YUxpbmspLmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgZGVsZXRlIG1ldGFUeXBlW25hbWVdOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBtZXRhTGlua1ttZXRhUHJvcF0gPSBtZXRhTGluay50ZW1wbGF0ZShtZXRhTGlua1ttZXRhUHJvcF0gfHwgJycpOwogICAgICAgICAgZGVsZXRlIG1ldGFMaW5rLnRlbXBsYXRlOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0pOwp9CgpmdW5jdGlvbiBjaGFuZ2VkKG9sZCwgZGVmKSB7CiAgaWYgKE9iamVjdC5rZXlzKG9sZCkubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhkZWYpLmxlbmd0aCkgewogICAgcmV0dXJuIHRydWU7CiAgfQoKICBmb3IgKHZhciBrZXkgaW4gb2xkKSB7CiAgICBpZiAob2xkW2tleV0gIT09IGRlZltrZXldKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0KfQoKZnVuY3Rpb24gYm9keUZpbHRlcihuYW1lKSB7CiAgcmV0dXJuIFsnY2xhc3MnLCAnc3R5bGUnXS5pbmNsdWRlcyhuYW1lKSA9PT0gZmFsc2U7Cn0KCmZ1bmN0aW9uIGh0bWxGaWx0ZXIobmFtZSkgewogIHJldHVybiBbJ2xhbmcnLCAnZGlyJ10uaW5jbHVkZXMobmFtZSkgPT09IGZhbHNlOwp9CgpmdW5jdGlvbiBkaWZmKG1ldGEsIG90aGVyKSB7CiAgdmFyIGFkZCA9IHt9LAogICAgICByZW1vdmUgPSB7fTsKCiAgaWYgKG1ldGEgPT09IHZvaWQgMCkgewogICAgcmV0dXJuIHsKICAgICAgYWRkOiBvdGhlciwKICAgICAgcmVtb3ZlOiByZW1vdmUKICAgIH07CiAgfQoKICBpZiAobWV0YS50aXRsZSAhPT0gb3RoZXIudGl0bGUpIHsKICAgIGFkZC50aXRsZSA9IG90aGVyLnRpdGxlOwogIH0KCiAgOwogIFsnbWV0YScsICdsaW5rJywgJ3NjcmlwdCcsICdodG1sQXR0cicsICdib2R5QXR0ciddLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHsKICAgIHZhciBvbGQgPSBtZXRhW3R5cGVdLAogICAgICAgIGN1ciA9IG90aGVyW3R5cGVdOwogICAgcmVtb3ZlW3R5cGVdID0gW107CgogICAgaWYgKG9sZCA9PT0gdm9pZCAwIHx8IG9sZCA9PT0gbnVsbCkgewogICAgICBhZGRbdHlwZV0gPSBjdXI7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBhZGRbdHlwZV0gPSB7fTsKCiAgICBmb3IgKHZhciBrZXkgaW4gb2xkKSB7CiAgICAgIGlmIChjdXIuaGFzT3duUHJvcGVydHkoa2V5KSA9PT0gZmFsc2UpIHsKICAgICAgICByZW1vdmVbdHlwZV0ucHVzaChrZXkpOwogICAgICB9CiAgICB9CgogICAgZm9yICh2YXIgX2tleSBpbiBjdXIpIHsKICAgICAgaWYgKG9sZC5oYXNPd25Qcm9wZXJ0eShfa2V5KSA9PT0gZmFsc2UpIHsKICAgICAgICBhZGRbdHlwZV1bX2tleV0gPSBjdXJbX2tleV07CiAgICAgIH0gZWxzZSBpZiAoY2hhbmdlZChvbGRbX2tleV0sIGN1cltfa2V5XSkgPT09IHRydWUpIHsKICAgICAgICByZW1vdmVbdHlwZV0ucHVzaChfa2V5KTsKICAgICAgICBhZGRbdHlwZV1bX2tleV0gPSBjdXJbX2tleV07CiAgICAgIH0KICAgIH0KICB9KTsKICByZXR1cm4gewogICAgYWRkOiBhZGQsCiAgICByZW1vdmU6IHJlbW92ZQogIH07Cn0KCmZ1bmN0aW9uIGFwcGx5KF9yZWYpIHsKICB2YXIgYWRkID0gX3JlZi5hZGQsCiAgICAgIHJlbW92ZSA9IF9yZWYucmVtb3ZlOwoKICBpZiAoYWRkLnRpdGxlKSB7CiAgICBkb2N1bWVudC50aXRsZSA9IGFkZC50aXRsZTsKICB9CgogIGlmIChPYmplY3Qua2V5cyhyZW1vdmUpLmxlbmd0aCA+IDApIHsKICAgIFsnbWV0YScsICdsaW5rJywgJ3NjcmlwdCddLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgcmVtb3ZlW3R5cGVdLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICBkb2N1bWVudC5oZWFkLnF1ZXJ5U2VsZWN0b3IoIiIuY29uY2F0KHR5cGUsICJbZGF0YS1xbWV0YT1cIiIpLmNvbmNhdChuYW1lLCAiXCJdIikpLnJlbW92ZSgpOwogICAgICB9KTsKICAgIH0pOwogICAgcmVtb3ZlLmh0bWxBdHRyLmZpbHRlcihodG1sRmlsdGVyKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7CiAgICB9KTsKICAgIHJlbW92ZS5ib2R5QXR0ci5maWx0ZXIoYm9keUZpbHRlcikuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgewogICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUF0dHJpYnV0ZShuYW1lKTsKICAgIH0pOwogIH0KCiAgOwogIFsnbWV0YScsICdsaW5rJywgJ3NjcmlwdCddLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHsKICAgIHZhciBtZXRhVHlwZSA9IGFkZFt0eXBlXTsKCiAgICBmb3IgKHZhciBuYW1lIGluIG1ldGFUeXBlKSB7CiAgICAgIHZhciB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpOwoKICAgICAgZm9yICh2YXIgYXR0IGluIG1ldGFUeXBlW25hbWVdKSB7CiAgICAgICAgaWYgKGF0dCAhPT0gJ2lubmVySFRNTCcpIHsKICAgICAgICAgIHRhZy5zZXRBdHRyaWJ1dGUoYXR0LCBtZXRhVHlwZVtuYW1lXVthdHRdKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRhZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtcW1ldGEnLCBuYW1lKTsKCiAgICAgIGlmICh0eXBlID09PSAnc2NyaXB0JykgewogICAgICAgIHRhZy5pbm5lckhUTUwgPSBtZXRhVHlwZVtuYW1lXS5pbm5lckhUTUwgfHwgJyc7CiAgICAgIH0KCiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGFnKTsKICAgIH0KICB9KTsKICBPYmplY3Qua2V5cyhhZGQuaHRtbEF0dHIpLmZpbHRlcihodG1sRmlsdGVyKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7CiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIGFkZC5odG1sQXR0cltuYW1lXSB8fCAnJyk7CiAgfSk7CiAgT2JqZWN0LmtleXMoYWRkLmJvZHlBdHRyKS5maWx0ZXIoYm9keUZpbHRlcikuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgewogICAgZG9jdW1lbnQuYm9keS5zZXRBdHRyaWJ1dGUobmFtZSwgYWRkLmJvZHlBdHRyW25hbWVdIHx8ICcnKTsKICB9KTsKfQoKZnVuY3Rpb24gZ2V0QXR0cihzZWVkKSB7CiAgcmV0dXJuIGZ1bmN0aW9uIChhdHQpIHsKICAgIHZhciB2YWwgPSBzZWVkW2F0dF07CiAgICByZXR1cm4gYXR0ICsgKHZhbCAhPT0gdHJ1ZSAmJiB2YWwgIT09IHZvaWQgMCA/ICI9XCIiLmNvbmNhdCh2YWwsICJcIiIpIDogJycpOwogIH07Cn0KCmZ1bmN0aW9uIGdldEhlYWQobWV0YSkgewogIHZhciBvdXRwdXQgPSAnJzsKCiAgaWYgKG1ldGEudGl0bGUpIHsKICAgIG91dHB1dCArPSAiPHRpdGxlPiIuY29uY2F0KG1ldGEudGl0bGUsICI8L3RpdGxlPiIpOwogIH0KCiAgOwogIFsnbWV0YScsICdsaW5rJywgJ3NjcmlwdCddLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHsKICAgIHZhciBtZXRhVHlwZSA9IG1ldGFbdHlwZV07CgogICAgZm9yICh2YXIgYXR0IGluIG1ldGFUeXBlKSB7CiAgICAgIHZhciBhdHRycyA9IE9iamVjdC5rZXlzKG1ldGFUeXBlW2F0dF0pLmZpbHRlcihmdW5jdGlvbiAoYXR0KSB7CiAgICAgICAgcmV0dXJuIGF0dCAhPT0gJ2lubmVySFRNTCc7CiAgICAgIH0pLm1hcChnZXRBdHRyKG1ldGFUeXBlW2F0dF0pKTsKICAgICAgb3V0cHV0ICs9ICI8Ii5jb25jYXQodHlwZSwgIiAiKS5jb25jYXQoYXR0cnMuam9pbignICcpLCAiIGRhdGEtcW1ldGE9XCIiKS5jb25jYXQoYXR0LCAiXCI+Iik7CgogICAgICBpZiAodHlwZSA9PT0gJ3NjcmlwdCcpIHsKICAgICAgICBvdXRwdXQgKz0gKG1ldGFUeXBlW2F0dF0uaW5uZXJIVE1MIHx8ICcnKSArICc8L3NjcmlwdD4nOwogICAgICB9CiAgICB9CiAgfSk7CiAgcmV0dXJuIG91dHB1dDsKfQoKZnVuY3Rpb24gaW5qZWN0U2VydmVyTWV0YShzc3JDb250ZXh0KSB7CiAgdmFyIGRhdGEgPSB7CiAgICB0aXRsZTogJycsCiAgICB0aXRsZVRlbXBsYXRlOiBudWxsLAogICAgbWV0YToge30sCiAgICBsaW5rOiB7fSwKICAgIGh0bWxBdHRyOiB7fSwKICAgIGJvZHlBdHRyOiB7fSwKICAgIG5vc2NyaXB0OiB7fQogIH07CiAgdmFyIGxpc3QgPSBzc3JDb250ZXh0Ll9fcU1ldGFMaXN0OwoKICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHsKICAgIGV4dGVuZCh0cnVlLCBkYXRhLCBsaXN0W2ldKTsKICB9CgogIG5vcm1hbGl6ZShkYXRhKTsKICB2YXIgbm9uY2UgPSBzc3JDb250ZXh0Lm5vbmNlICE9PSB2b2lkIDAgPyAiIG5vbmNlPVwiIi5jb25jYXQoc3NyQ29udGV4dC5ub25jZSwgIlwiIikgOiAnJzsKICB2YXIgY3R4ID0gc3NyQ29udGV4dC5fbWV0YTsKICB2YXIgaHRtbEF0dHIgPSBPYmplY3Qua2V5cyhkYXRhLmh0bWxBdHRyKS5maWx0ZXIoaHRtbEZpbHRlcik7CgogIGlmIChodG1sQXR0ci5sZW5ndGggPiAwKSB7CiAgICBjdHguaHRtbEF0dHJzICs9IChjdHguaHRtbEF0dHJzLmxlbmd0aCA+IDAgPyAnICcgOiAnJykgKyBodG1sQXR0ci5tYXAoZ2V0QXR0cihkYXRhLmh0bWxBdHRyKSkuam9pbignICcpOwogIH0KCiAgY3R4LmhlYWRUYWdzICs9IGdldEhlYWQoZGF0YSk7CiAgdmFyIGJvZHlBdHRyID0gT2JqZWN0LmtleXMoZGF0YS5ib2R5QXR0cikuZmlsdGVyKGJvZHlGaWx0ZXIpOwoKICBpZiAoYm9keUF0dHIubGVuZ3RoID4gMCkgewogICAgY3R4LmJvZHlBdHRycyArPSAoY3R4LmJvZHlBdHRycy5sZW5ndGggPiAwID8gJyAnIDogJycpICsgYm9keUF0dHIubWFwKGdldEF0dHIoZGF0YS5ib2R5QXR0cikpLmpvaW4oJyAnKTsKICB9CgogIGN0eC5ib2R5VGFncyArPSBPYmplY3Qua2V5cyhkYXRhLm5vc2NyaXB0KS5tYXAoZnVuY3Rpb24gKG5hbWUpIHsKICAgIHJldHVybiAiPG5vc2NyaXB0IGRhdGEtcW1ldGE9XCIiLmNvbmNhdChuYW1lLCAiXCI+IikuY29uY2F0KGRhdGEubm9zY3JpcHRbbmFtZV0sICI8L25vc2NyaXB0PiIpOwogIH0pLmpvaW4oJycpICsgIjxzY3JpcHQiLmNvbmNhdChub25jZSwgIiBpZD1cInFtZXRhLWluaXRcIj53aW5kb3cuX19RX01FVEFfXz0iKS5jb25jYXQoZGVsZXRlIGRhdGEubm9zY3JpcHQgJiYgSlNPTi5zdHJpbmdpZnkoZGF0YSksICI8L3NjcmlwdD4iKTsKfQoKZnVuY3Rpb24gdXBkYXRlQ2xpZW50TWV0YSgpIHsKICB2YXIgZGF0YSA9IHsKICAgIHRpdGxlOiAnJywKICAgIHRpdGxlVGVtcGxhdGU6IG51bGwsCiAgICBtZXRhOiB7fSwKICAgIGxpbms6IHt9LAogICAgc2NyaXB0OiB7fSwKICAgIGh0bWxBdHRyOiB7fSwKICAgIGJvZHlBdHRyOiB7fQogIH07CgogIGZvciAodmFyIGkgPSAwOyBpIDwgY2xpZW50TGlzdC5sZW5ndGg7IGkrKykgewogICAgdmFyIF9jbGllbnRMaXN0JGkgPSBjbGllbnRMaXN0W2ldLAogICAgICAgIGFjdGl2ZSA9IF9jbGllbnRMaXN0JGkuYWN0aXZlLAogICAgICAgIHZhbCA9IF9jbGllbnRMaXN0JGkudmFsOwoKICAgIGlmIChhY3RpdmUgPT09IHRydWUpIHsKICAgICAgZXh0ZW5kKHRydWUsIGRhdGEsIHZhbCk7CiAgICB9CiAgfQoKICBub3JtYWxpemUoZGF0YSk7CiAgYXBwbHkoZGlmZihjdXJyZW50Q2xpZW50TWV0YSwgZGF0YSkpOwogIGN1cnJlbnRDbGllbnRNZXRhID0gZGF0YTsKfQoKZXhwb3J0IGZ1bmN0aW9uIHBsYW5DbGllbnRVcGRhdGUoKSB7CiAgY2xlYXJUaW1lb3V0KHVwZGF0ZUlkKTsKICB1cGRhdGVJZCA9IHNldFRpbWVvdXQodXBkYXRlQ2xpZW50TWV0YSwgNTApOwp9CmV4cG9ydCBkZWZhdWx0IHsKICBpbnN0YWxsOiBmdW5jdGlvbiBpbnN0YWxsKG9wdHMpIHsKICAgIGlmIChfX1FVQVNBUl9TU1JfU0VSVkVSX18pIHsKICAgICAgdmFyIHNzckNvbnRleHQgPSBvcHRzLnNzckNvbnRleHQ7CiAgICAgIHNzckNvbnRleHQuX19xTWV0YUxpc3QgPSBbXTsKICAgICAgc3NyQ29udGV4dC5vblJlbmRlcmVkKGZ1bmN0aW9uICgpIHsKICAgICAgICBpbmplY3RTZXJ2ZXJNZXRhKHNzckNvbnRleHQpOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAodGhpcy5fX2luc3RhbGxlZCAhPT0gdHJ1ZSAmJiBpc1J1bnRpbWVTc3JQcmVIeWRyYXRpb24udmFsdWUgPT09IHRydWUpIHsKICAgICAgY3VycmVudENsaWVudE1ldGEgPSB3aW5kb3cuX19RX01FVEFfXzsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3FtZXRhLWluaXQnKS5yZW1vdmUoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/netsuretsu/Rendu/Epitech-pulse-test/Part five/front-reservation-parking/node_modules/quasar/src/plugins/Meta.js"],"names":["isRuntimeSsrPreHydration","extend","updateId","currentClientMeta","clientList","normalize","meta","title","titleTemplate","forEach","type","metaType","metaProp","name","metaLink","template","Object","keys","length","changed","old","def","key","bodyFilter","includes","htmlFilter","diff","other","add","remove","cur","hasOwnProperty","push","apply","document","head","querySelector","htmlAttr","filter","documentElement","removeAttribute","bodyAttr","body","tag","createElement","att","setAttribute","innerHTML","appendChild","getAttr","seed","val","getHead","output","attrs","map","join","injectServerMeta","ssrContext","data","link","noscript","list","__qMetaList","i","nonce","ctx","_meta","htmlAttrs","headTags","bodyAttrs","bodyTags","JSON","stringify","updateClientMeta","script","active","planClientUpdate","clearTimeout","setTimeout","install","opts","__QUASAR_SSR_SERVER__","onRendered","__installed","value","window","__Q_META__","getElementById"],"mappings":"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","sourcesContent":["import { isRuntimeSsrPreHydration } from './Platform.js'\nimport extend from '../utils/extend.js'\n\nlet updateId, currentClientMeta\nexport const clientList = []\n\nfunction normalize (meta) {\n  if (meta.title) {\n    meta.title = meta.titleTemplate\n      ? meta.titleTemplate(meta.title)\n      : meta.title\n    delete meta.titleTemplate\n  }\n\n  ;[ [ 'meta', 'content' ], [ 'link', 'href' ] ].forEach(type => {\n    const\n      metaType = meta[ type[ 0 ] ],\n      metaProp = type[ 1 ]\n\n    for (const name in metaType) {\n      const metaLink = metaType[ name ]\n\n      if (metaLink.template) {\n        if (Object.keys(metaLink).length === 1) {\n          delete metaType[ name ]\n        }\n        else {\n          metaLink[ metaProp ] = metaLink.template(metaLink[ metaProp ] || '')\n          delete metaLink.template\n        }\n      }\n    }\n  })\n}\n\nfunction changed (old, def) {\n  if (Object.keys(old).length !== Object.keys(def).length) {\n    return true\n  }\n  for (const key in old) {\n    if (old[ key ] !== def[ key ]) {\n      return true\n    }\n  }\n}\n\nfunction bodyFilter (name) {\n  return [ 'class', 'style' ].includes(name) === false\n}\n\nfunction htmlFilter (name) {\n  return [ 'lang', 'dir' ].includes(name) === false\n}\n\nfunction diff (meta, other) {\n  const add = {}, remove = {}\n\n  if (meta === void 0) {\n    return { add: other, remove }\n  }\n\n  if (meta.title !== other.title) {\n    add.title = other.title\n  }\n\n  ;[ 'meta', 'link', 'script', 'htmlAttr', 'bodyAttr' ].forEach(type => {\n    const old = meta[ type ], cur = other[ type ]\n    remove[ type ] = []\n\n    if (old === void 0 || old === null) {\n      add[ type ] = cur\n      return\n    }\n\n    add[ type ] = {}\n\n    for (const key in old) {\n      if (cur.hasOwnProperty(key) === false) {\n        remove[ type ].push(key)\n      }\n    }\n    for (const key in cur) {\n      if (old.hasOwnProperty(key) === false) {\n        add[ type ][ key ] = cur[ key ]\n      }\n      else if (changed(old[ key ], cur[ key ]) === true) {\n        remove[ type ].push(key)\n        add[ type ][ key ] = cur[ key ]\n      }\n    }\n  })\n\n  return { add, remove }\n}\n\nfunction apply ({ add, remove }) {\n  if (add.title) {\n    document.title = add.title\n  }\n\n  if (Object.keys(remove).length > 0) {\n    [ 'meta', 'link', 'script' ].forEach(type => {\n      remove[ type ].forEach(name => {\n        document.head.querySelector(`${ type }[data-qmeta=\"${ name }\"]`).remove()\n      })\n    })\n    remove.htmlAttr.filter(htmlFilter).forEach(name => {\n      document.documentElement.removeAttribute(name)\n    })\n    remove.bodyAttr.filter(bodyFilter).forEach(name => {\n      document.body.removeAttribute(name)\n    })\n  }\n\n  ;[ 'meta', 'link', 'script' ].forEach(type => {\n    const metaType = add[ type ]\n\n    for (const name in metaType) {\n      const tag = document.createElement(type)\n      for (const att in metaType[ name ]) {\n        if (att !== 'innerHTML') {\n          tag.setAttribute(att, metaType[ name ][ att ])\n        }\n      }\n      tag.setAttribute('data-qmeta', name)\n      if (type === 'script') {\n        tag.innerHTML = metaType[ name ].innerHTML || ''\n      }\n      document.head.appendChild(tag)\n    }\n  })\n  Object.keys(add.htmlAttr).filter(htmlFilter).forEach(name => {\n    document.documentElement.setAttribute(name, add.htmlAttr[ name ] || '')\n  })\n  Object.keys(add.bodyAttr).filter(bodyFilter).forEach(name => {\n    document.body.setAttribute(name, add.bodyAttr[ name ] || '')\n  })\n}\n\nfunction getAttr (seed) {\n  return att => {\n    const val = seed[ att ]\n    return att + (val !== true && val !== void 0 ? `=\"${ val }\"` : '')\n  }\n}\n\nfunction getHead (meta) {\n  let output = ''\n  if (meta.title) {\n    output += `<title>${ meta.title }</title>`\n  }\n  ;[ 'meta', 'link', 'script' ].forEach(type => {\n    const metaType = meta[ type ]\n\n    for (const att in metaType) {\n      const attrs = Object.keys(metaType[ att ])\n        .filter(att => att !== 'innerHTML')\n        .map(getAttr(metaType[ att ]))\n\n      output += `<${ type } ${ attrs.join(' ') } data-qmeta=\"${ att }\">`\n      if (type === 'script') {\n        output += (metaType[ att ].innerHTML || '') + '</script>'\n      }\n    }\n  })\n  return output\n}\n\nfunction injectServerMeta (ssrContext) {\n  const data = {\n    title: '',\n    titleTemplate: null,\n    meta: {},\n    link: {},\n    htmlAttr: {},\n    bodyAttr: {},\n    noscript: {}\n  }\n\n  const list = ssrContext.__qMetaList\n\n  for (let i = 0; i < list.length; i++) {\n    extend(true, data, list[ i ])\n  }\n\n  normalize(data)\n\n  const nonce = ssrContext.nonce !== void 0\n    ? ` nonce=\"${ ssrContext.nonce }\"`\n    : ''\n\n  const ctx = ssrContext._meta\n\n  const htmlAttr = Object.keys(data.htmlAttr).filter(htmlFilter)\n\n  if (htmlAttr.length > 0) {\n    ctx.htmlAttrs += (\n      (ctx.htmlAttrs.length > 0 ? ' ' : '')\n      + htmlAttr.map(getAttr(data.htmlAttr)).join(' ')\n    )\n  }\n\n  ctx.headTags += getHead(data)\n\n  const bodyAttr = Object.keys(data.bodyAttr).filter(bodyFilter)\n\n  if (bodyAttr.length > 0) {\n    ctx.bodyAttrs += (\n      (ctx.bodyAttrs.length > 0 ? ' ' : '')\n      + bodyAttr.map(getAttr(data.bodyAttr)).join(' ')\n    )\n  }\n\n  ctx.bodyTags += Object.keys(data.noscript)\n    .map(name => `<noscript data-qmeta=\"${ name }\">${ data.noscript[ name ] }</noscript>`)\n    .join('')\n    + `<script${ nonce } id=\"qmeta-init\">window.__Q_META__=${ delete data.noscript && JSON.stringify(data) }</script>`\n}\n\nfunction updateClientMeta () {\n  const data = {\n    title: '',\n    titleTemplate: null,\n    meta: {},\n    link: {},\n    script: {},\n    htmlAttr: {},\n    bodyAttr: {}\n  }\n\n  for (let i = 0; i < clientList.length; i++) {\n    const { active, val } = clientList[ i ]\n\n    if (active === true) {\n      extend(true, data, val)\n    }\n  }\n\n  normalize(data)\n\n  apply(diff(currentClientMeta, data))\n  currentClientMeta = data\n}\n\nexport function planClientUpdate () {\n  clearTimeout(updateId)\n  updateId = setTimeout(updateClientMeta, 50)\n}\n\nexport default {\n  install (opts) {\n    if (__QUASAR_SSR_SERVER__) {\n      const { ssrContext } = opts\n\n      ssrContext.__qMetaList = []\n      ssrContext.onRendered(() => {\n        injectServerMeta(ssrContext)\n      })\n    }\n    else if (this.__installed !== true && isRuntimeSsrPreHydration.value === true) {\n      currentClientMeta = window.__Q_META__\n      document.getElementById('qmeta-init').remove()\n    }\n  }\n}\n"]}]}